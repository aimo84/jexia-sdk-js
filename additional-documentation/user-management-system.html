<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Jexia Javascript SDK</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/material.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Jexia Javascript SDK</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content additional-page">
                   <div class="content-data">














                   




<h1 id="jexia-user-management-system-module-ums">Jexia User Management System Module (UMS)</h1>
<p>UMS provides an ability to manage user accounts, sign-up and sign-in to the Jexia project with these accounts and perform  data changes with permissions of any authorized user. There are two ways to create a new user:   </p>
<ol>
<li>You can use <a href="https://docs.jexia.com/getting-started/user-management/">Web Management Application</a> and create  users one by one with nice UI.   </li>
<li>You can use <code>signup()</code> method of User Management Module  </li>
</ol>
<h4 id="return-values">Return values</h4>
<p>Some of the methods of this module such as <code>select()</code>, <code>update()</code> and <code>delete()</code> return observable, but other return <code>Promise</code> type. This might be changed soon and all methods will return an observable.  </p>
<h3 id="initialize">Initialize</h3>
<p>If you want to use UMS module, just add it to the Jexia Client initialization:  </p>
<div><pre class="line-numbers"><code class="language-javascript">import { jexiaClient, UMSModule } from &quot;jexia-sdk-js&quot;;  

const ums = new UMSModule();   
jexiaClient().init({    
  projectID: &quot;your-project-id&quot;,    
  key: &quot;your-api-key&quot;,    
secret: &quot;your-api-secret&quot; }, ums); </code></pre></div><p> If you are going to use UMS authorization, you can omit key/secret options,<br> but this requires UMS signing in before making any data request:  </p>
<div><pre class="line-numbers"><code class="language-javascript">jexiaClient().init({    
 projectID: &quot;your-project-id&quot;  
}, ums); </code></pre></div><h3 id="sign-in-user-to-the-jexia-project">Sign-in user to the Jexia project</h3>
<p>UMS uses email and password as user credentials. User account should exist in a project.<br>Additional options (both are optional):  </p>
<ul>
<li><strong>default</strong><br>if true, this user account will be used for all further data operations by default  </li>
<li><strong>alias</strong><br>account alias. You can use it to clarify which account is going to be used to perform data operation  </li>
</ul>
<div><pre class="line-numbers"><code class="language-javascript">ums.signIn({
  email: &#39;Elon&#64;tesla.com&#39;,
  password: &#39;secret-password&#39;,
  default: false,
  alias: &#39;Elon Musk&#39;
}).subscribe(token =&gt; console.log(token));</code></pre></div><h3 id="perform-data-operation-on-behalf-of-a-user">Perform data operation on behalf of a user</h3>
<p>If user successfully signed in, his alias can be used to get access to the datasets, filesets or any other project data.<br>You can also use user&#39;s email as an alias or, if <code>default</code> option was set to true, do not specify alias at all.  </p>
<p>Use alias:</p>
<div><pre class="line-numbers"><code class="language-javascript">dom.dataset(&#39;rockets&#39;, &#39;Elon Mask&#39;).select();</code></pre></div><p> Use email:</p>
<div><pre class="line-numbers"><code class="language-javascript">dom.dataset(&#39;rockets&#39;, &#39;Elon&#64;tesla.com&#39;).select(); </code></pre></div><p>Omit alias, default user will be used.:  </p>
<div><pre class="line-numbers"><code class="language-javascript">ums.signIn({
  email: &#39;Elon&#64;tesla.com&#39;,
  password: &#39;secret-password&#39;,
  default: true  
}).subscribe();

dom.dataset(&#39;rockets&#39;).select(); </code></pre></div><h3 id="set-default-user">Set default user</h3>
<p>You can set default user with <code>setDefault()</code> method. After this all data operations will use Elon&#39;s permissions:  </p>
<div><pre class="line-numbers"><code class="language-javascript">ums.setDefault(&#39;Elon Musk&#39;); </code></pre></div><h3 id="reset-authorization">Reset authorization</h3>
<p>With <code>resetDefault()</code> method you can switch back to default project authorization. Usually it is <code>apiKey</code> auth:  </p>
<div><pre class="line-numbers"><code class="language-javascript">ums.resetDefault();</code></pre></div><h3 id="create-a-new-user-sign-up">Create a new user (Sign-up)</h3>
<p>You can sign up a new user to the project</p>
<div><pre class="line-numbers"><code class="language-javascript">ums.signUp({
  email: &quot;robert&#64;company.com&quot;,
  password: &quot;qwert1234&quot;
}).subscribe(user =&gt; console.log(user));

/* returned user: 
{
 id: &quot;005c8679-3fad-46fd-a93f-9484ea8ff738&quot;,
 email: &quot;robert&#64;company.com&quot;,
 active: true,
 created_at: &quot;2017-12-31T23:59:59.123456Z&quot;
 updated_at: &quot;2017-12-31T23:59:59.123456Z&quot;
} */</code></pre></div><p>You can also pass an extra fields during sing-up. These fields will be saved in the UMS and you can receive them by
&quot;getUser()&quot; method:</p>
<div><pre class="line-numbers"><code class="language-javascript">ums.signUp(
  { email: &quot;john&#64;company.com&quot;, password: &quot;rewq4321&quot; },
  { 
    age: 25, 
    address: { 
      city: &quot;Apeldoorn&quot;,
      country: &quot;NL&quot;
    }
  }
).subscribe(user =&gt; console.log(user));

/* returned user:
{
    &quot;active&quot;: true,
    &quot;address&quot;: {
        &quot;city&quot;: &quot;Apeldoorn&quot;,
        &quot;country&quot;: &quot;NL&quot;
    },
    &quot;age&quot;: 25,
    &quot;created_at&quot;: &quot;2020-02-12T11:09:36.017824Z&quot;,
    &quot;email&quot;: &quot;john&#64;company.com&quot;,
    &quot;id&quot;: &quot;736afb7d-fbc2-4ef2-9ffe-bbdc454e68a3&quot;,
    &quot;updated_at&quot;: &quot;2020-02-12T11:09:36.017824Z&quot;
} */</code></pre></div><h3 id="fetch-user-by-alias-alias-or-email">Fetch user by alias alias (or email)</h3>
<div><pre class="line-numbers"><code class="language-javascript"> ums.getUser(&#39;Elon Musk&#39;).subscribe(user =&gt; console.log(user)); </code></pre></div><h3 id="change-user-password">Change user password</h3>
<div><pre class="line-numbers"><code class="language-javascript">ums.changePassword(&#39;Elon&#64;tesla.com&#39;, oldPassword, newPassword).subscribe(); </code></pre></div><h3 id="delete-user">Delete user</h3>
<p>You need to provide current user password to delete account:  </p>
<div><pre class="line-numbers"><code class="language-javascript">ums.deleteUser(&#39;Elon&#64;tesla.com&#39;, password).subscribe();</code></pre></div><h3 id="manage-user">Manage user</h3>
<p>It is also possible to use CRUD methods <code>select()</code>, <code>update()</code> and <code>delete()</code>. They have the same syntax  and return values as corresponding data operations methods.<br>All these methods return observables.<br>To get more information see <a href="https://jexia.github.io/jexia-sdk-js/additional-documentation/dataset-operations.html">Dataset Module Documentation</a>  </p>
<p>Examples: </p>
<div><pre class="line-numbers"><code class="language-javascript">// select all active users  
ums.select()  
 .where(field =&gt; field(&quot;active&quot;).isEqualTo(true))  
 .subscribe();  </code></pre></div><div><pre class="line-numbers"><code class="language-javascript">// suspend Elon!  
ums.update({ active: false })  
 .where(field =&gt; field(&quot;email&quot;).isEqualTo(&quot;Elon&#64;tesla.com&quot;))  
 .subscribe();  </code></pre></div><div><pre class="line-numbers"><code class="language-javascript">// delete all suspended users  
ums.delete()  
 .where(field =&gt; field(&quot;active&quot;).isEqualTo(false))  
 .subscribe();  </code></pre></div><h3 id="changereset-user-password">Change/reset user password</h3>
<p>User&#39;s password can be changed whether the current password is known by calling:</p>
<div><pre class="line-numbers"><code class="language-javascript">ums.changePassword(&#39;Elon&#64;tesla.com&#39;, currentPassword, newPassword);</code></pre></div><p><br>When the current password isn&#39;t known, you need to request a password reset:</p>
<div><pre class="line-numbers"><code class="language-javascript">ums.requestResetPassword(&#39;Elon&#64;tesla.com&#39;);</code></pre></div><p><br>If provided email is valid and exists the user will receive an e-mail with instructions to reset their password. This e-mail will include a reset token, that should be used to reset his password:</p>
<div><pre class="line-numbers"><code class="language-javascript">ums.resetPassword(receivedResetToken, newPassword);</code></pre></div>
                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'additional-page';
            var COMPODOC_CURRENT_PAGE_URL = 'user-management-system.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
